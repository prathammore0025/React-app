{"ast":null,"code":"import _regeneratorRuntime from\"/root/Techdome-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/root/Techdome-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{LOGIN_SUCCESS,LOGIN_REQUEST,LOAD_REQUEST,LOAD_SUCCESS,LOAD_FAIL,LOGOUT_SUCCESS}from\"../constants/userConstants\";import axios from\"../apiConfig/api\";export var registeruser=function registeruser(userData,navigate,fun){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var config,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;config={headers:{\"Conetnt-Type\":\"application/json\"}};_context.next=4;return axios.post(\"/register\",userData,config);case 4:res=_context.sent;if(res.status==201){navigate(\"/login\");}else{window.alert(\"somthing went wrong\");}fun(null);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);fun(_context.t0.response.data.message);console.log(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));};export var loginUser=function loginUser(userData,fun){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var config,res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;config={headers:{\"Conetnt-Type\":\"application/json\"}};_context2.next=4;return axios.post(\"/login\",userData,config);case 4:res=_context2.sent;if(res.status==200){localStorage.setItem(\"userToken\",res.data.token);dispatch({type:LOGIN_SUCCESS,payload:res.data.user});}else{window.alert(\"somthing went wrong\");}fun(null);_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);fun(_context2.t0.response.data.message);console.log(_context2.t0);case 13:case\"end\":return _context2.stop();}},_callee2,null,[[0,9]]);}));return function(_x){return _ref2.apply(this,arguments);};}();};export var loadUser=function loadUser(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var token,config,res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;token=localStorage.getItem(\"userToken\");if(!token){_context3.next=10;break;}config={headers:{\"Conetnt-Type\":\"application/json\"}};_context3.next=6;return axios.post(\"/get_user_data\",{token:token},config);case 6:res=_context3.sent;dispatch({type:LOAD_SUCCESS,payload:res.data.user});_context3.next=11;break;case 10:console.log(\"token is not present..!\");case 11:_context3.next=16;break;case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 16:case\"end\":return _context3.stop();}},_callee3,null,[[0,13]]);}));return function(_x2){return _ref3.apply(this,arguments);};}();};export var logoutUser=function logoutUser(navigate){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:try{localStorage.removeItem(\"userToken\");dispatch({type:LOGOUT_SUCCESS});navigate(\"/login\");}catch(error){console.log(error);}case 1:case\"end\":return _context4.stop();}},_callee4);}));return function(_x3){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"names":["LOGIN_SUCCESS","LOGIN_REQUEST","LOAD_REQUEST","LOAD_SUCCESS","LOAD_FAIL","LOGOUT_SUCCESS","axios","registeruser","userData","navigate","fun","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","res","wrap","_callee$","_context","prev","next","headers","post","sent","status","window","alert","t0","response","data","message","console","log","stop","loginUser","_ref2","_callee2","dispatch","_callee2$","_context2","localStorage","setItem","token","type","payload","user","_x","apply","arguments","loadUser","_ref3","_callee3","_callee3$","_context3","getItem","_x2","logoutUser","_ref4","_callee4","_callee4$","_context4","removeItem","error","_x3"],"sources":["/root/Techdome-frontend/src/actions/userAction.js"],"sourcesContent":["import { LOGIN_SUCCESS, LOGIN_REQUEST, LOAD_REQUEST, LOAD_SUCCESS, LOAD_FAIL, LOGOUT_SUCCESS } from \"../constants/userConstants\";\nimport axios from \"../apiConfig/api\";\n\nexport const registeruser = (userData, navigate, fun) => async () => {\n    try {\n        const config = { headers: { \"Conetnt-Type\": \"application/json\" } };\n        const res = await axios.post(\"/register\", userData, config);\n        if (res.status == 201) {\n            navigate(\"/login\");\n        } else {\n            window.alert(\"somthing went wrong\");\n        }\n\n        fun(null);\n\n    } catch (error) {\n        fun(error.response.data.message)\n        console.log(error);\n    }\n}\n\nexport const loginUser = (userData, fun) => async (dispatch) => {\n    try {\n        const config = { headers: { \"Conetnt-Type\": \"application/json\" } };\n        const res = await axios.post(\"/login\", userData, config);\n        if (res.status == 200) {\n            localStorage.setItem(\"userToken\", res.data.token);\n            dispatch({ type: LOGIN_SUCCESS, payload: res.data.user });\n        } else {\n            window.alert(\"somthing went wrong\");\n        }\n\n        fun(null);\n\n    } catch (error) {\n        fun(error.response.data.message);\n        console.log(error);\n    }\n}\n\nexport const loadUser = () => async (dispatch) => {\n    try {\n        const token = localStorage.getItem(\"userToken\");\n        if (token) {\n            const config = { headers: { \"Conetnt-Type\": \"application/json\" } };\n            const res = await axios.post(\"/get_user_data\", { token }, config);\n            dispatch({ type: LOAD_SUCCESS, payload: res.data.user });\n        } else {\n            console.log(\"token is not present..!\");\n        }\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const logoutUser = (navigate) => async (dispatch) => {\n    try {\n        localStorage.removeItem(\"userToken\");\n        dispatch({ type: LOGOUT_SUCCESS });\n        navigate(\"/login\");\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}